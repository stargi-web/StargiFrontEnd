<form
  [formGroup]="opportunityForm"
  (ngSubmit)="onSubmit()"
  class="flex flex-column justify-content-center align-items-center mt-4"
>
  <p>Ingrese los datos</p>
  <div class="dataDiv p-4 flex flex-column md:flex-row gap-8">
    <!-- Primera columna -->
    <div class="flex flex-column w-20rem">
      <label for="ruc">RUC</label>
      <input pInputText type="text" id="ruc" formControlName="ruc" required />
      <div *ngIf="isFieldInvalid('ruc')" class="error-message">
        {{ getFieldErrorMessage("ruc") }}
      </div>

      <label for="businessName">Nombre del Negocio</label>
      <input
        pInputText
        type="text"
        id="businessName"
        formControlName="businessName"
        required
      />
      <div *ngIf="isFieldInvalid('businessName')" class="error-message">
        {{ getFieldErrorMessage("businessName") }}
      </div>

      <label for="SfaNumber">Número SFA</label>
      <input
        pInputText
        type="number"
        id="SfaNumber"
        formControlName="SfaNumber"
        required
      />
      <div *ngIf="isFieldInvalid('SfaNumber')" class="error-message">
        {{ getFieldErrorMessage("SfaNumber") }}
      </div>

      <label for="oppSfaDateCreation">Fecha de Creación SFA</label>
      <p-calendar
        id="oppSfaDateCreation"
        formControlName="oppSfaDateCreation"
        dateFormat="yy-mm-dd"
        [showIcon]="true"
        [iconDisplay]="'input'"
        required
      ></p-calendar>
      <div *ngIf="isFieldInvalid('oppSfaDateCreation')" class="error-message">
        {{ getFieldErrorMessage("oppSfaDateCreation") }}
      </div>

      <label for="type">Tipo</label>
      <p-dropdown
        id="type"
        [options]="opportunityTypes"
        formControlName="type"
        required
      ></p-dropdown>
      <div *ngIf="isFieldInvalid('type')" class="error-message">
        {{ getFieldErrorMessage("type") }}
      </div>
    </div>

    <!-- Segunda columna -->
    <div class="flex flex-column">
      <label for="units">Unidades:</label>
      <p-inputNumber
        formControlName="units"
        mode="decimal"
        [useGrouping]="false"
      ></p-inputNumber>
      <div *ngIf="isFieldInvalid('units')" class="error-message">
        {{ getFieldErrorMessage("units") }}
      </div>

      <label for="amount">Monto</label>
      <p-inputNumber
        formControlName="amount"
        mode="decimal"
        [useGrouping]="false"
      ></p-inputNumber>
      <div *ngIf="isFieldInvalid('amount')" class="error-message">
        {{ getFieldErrorMessage("amount") }}
      </div>

      <label for="product">Producto</label>
      <p-dropdown
        id="product"
        [options]="products"
        formControlName="product"
        required
      ></p-dropdown>
      <div *ngIf="isFieldInvalid('product')" class="error-message">
        {{ getFieldErrorMessage("product") }}
      </div>

      <label for="state">Estado</label>
      <p-dropdown
        id="state"
        [options]="states"
        formControlName="state"
        required
      ></p-dropdown>
      <div *ngIf="isFieldInvalid('state')" class="error-message">
        {{ getFieldErrorMessage("state") }}
      </div>

      <label for="offer">Promoción</label>
      <p-dropdown
        id="offer"
        [options]="offers"
        formControlName="offer"
        required
      ></p-dropdown>
      <div *ngIf="isFieldInvalid('offer')" class="error-message">
        {{ getFieldErrorMessage("offer") }}
      </div>
    </div>

    <!-- Tercera columna -->
    <div class="flex flex-column w-20rem">
      <label for="estimatedClosingDate">Fecha de Cierre Estimada</label>
      <p-calendar
        id="estimatedClosingDate"
        formControlName="estimatedClosingDate"
        dateFormat="yy-mm-dd"
        [showIcon]="true"
        [iconDisplay]="'input'"
        required
      ></p-calendar>
      <div *ngIf="isFieldInvalid('estimatedClosingDate')" class="error-message">
        {{ getFieldErrorMessage("estimatedClosingDate") }}
      </div>

      <label for="commentary">Comentario</label>
      <textarea
        pInputTextarea
        id="commentary"
        formControlName="commentary"
      ></textarea>
      <div *ngIf="isFieldInvalid('commentary')" class="error-message">
        {{ getFieldErrorMessage("commentary") }}
      </div>

      <label for="contactName">Nombre de contacto</label>
      <input
        pInputText
        type="text"
        id="contactName"
        formControlName="contactName"
        required
      />
      <div *ngIf="isFieldInvalid('contactName')" class="error-message">
        {{ getFieldErrorMessage("contactName") }}
      </div>

      <label for="contactNumber">Número de contacto</label>
      <input
        pInputText
        type="text"
        id="contactNumber"
        formControlName="contactNumber"
        required
      />
      <div *ngIf="isFieldInvalid('contactNumber')" class="error-message">
        {{ getFieldErrorMessage("contactNumber") }}
      </div>

      <label for="email">Email</label>
      <input
        pInputText
        type="text"
        id="email"
        formControlName="email"
        required
      />
      <div *ngIf="isFieldInvalid('email')" class="error-message">
        {{ getFieldErrorMessage("email") }}
      </div>
    </div>
  </div>

  <!-- Botón de envío fuera de la grilla para ocupar toda la fila -->
  <div class="mt-3">
    <button
      pButton
      type="submit"
      label="Crear Oportunidad"
      [disabled]="opportunityForm.invalid"
    ></button>
  </div>
</form>
